"use strict";(self["webpackChunkmohobby"]=self["webpackChunkmohobby"]||[]).push([[3520],{73520:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("div",[t("button",{on:{click:e.clearSession}},[e._v("clearSession")]),t("br"),t("div",{staticClass:"authBox"},[t("h3",[e._v("사용자 인증")]),t("span",[e._v("code: "+e._s(e.auth.code))]),t("br"),t("span",[e._v("scope: "+e._s(e.auth.scope))]),t("br"),t("span",[e._v("client_info: "+e._s(e.auth.client_info))]),t("br"),t("span",[e._v("state: "+e._s(e.auth.state))]),t("br"),t("br"),e._m(0),t("button",{on:{click:e.saveAuth}},[e._v("saveAuth")])]),t("br"),t("div",{staticClass:"tokenBox"},[t("h3",[e._v("토큰발급")]),t("span",[e._v("access_token: "+e._s(e.token.access_token))]),t("br"),t("span",[e._v("expires_in: "+e._s(e.token.expires_in))]),t("br"),t("span",[e._v("refresh_token: "+e._s(e.token.refresh_token))]),t("br"),t("span",[e._v("scope: "+e._s(e.token.scope))]),t("br"),t("span",[e._v("token_type: "+e._s(e.token.token_type))]),t("br"),t("span",[e._v("user_seq_no: "+e._s(e.token.user_seq_no))]),t("br"),t("br"),t("button",{on:{click:e.requestToken}},[e._v("requestToken")]),t("button",{on:{click:e.saveToken}},[e._v("saveToken")])]),t("br")])},o=[function(){var e=this,t=e._self._c;return t("form",{attrs:{method:"get",action:"https://testapi.openbanking.or.kr/oauth/2.0/authorize",target:"_blank"}},[t("input",{attrs:{type:"hidden",name:"response_type",value:"code"}}),t("input",{attrs:{type:"hidden",name:"client_id",value:"09076cd0-82f3-4c5b-a982-862c4c655cca"}}),t("input",{attrs:{type:"hidden",name:"redirect_uri",value:"http://localhost:8088"}}),t("input",{attrs:{type:"hidden",name:"scope",value:"login inquiry transfer"}}),t("input",{attrs:{type:"hidden",name:"state",value:"b80BLsfigm9OokPTjy03elbJqRHOfGSY"}}),t("input",{attrs:{type:"hidden",name:"auth_type",value:"0"}}),t("input",{attrs:{type:"submit",value:"requestAuth"}})])}],r=(s(21703),{components:{},data(){return{auth:{code:"5HafwwLPu3WJ2fSvI3XKtqmi1Y562O",scope:"inquiry login transfer",client_info:"test",state:"b80BLsfigm9OokPTjy03elbJqRHOfGSY"},token:{access_token:"",expires_in:"",refresh_token:"",scope:"",token_type:"",user_seq_no:""}}},setup(){},created(){},mounted:function(){this.init()},unmounted(){},methods:{init(){sessionStorage.auth&&(this.auth=JSON.parse(sessionStorage.auth)),sessionStorage.token&&(this.token=JSON.parse(sessionStorage.token))},clearSession(){sessionStorage.auth="",sessionStorage.token="",this.auth={code:"",scope:"",client_info:"",state:""},this.token={access_token:"",expires_in:"",refresh_token:"",scope:"",token_type:"",user_seq_no:""}},saveAuth(){sessionStorage.auth=JSON.stringify({code:this.$route.query.code,scope:this.$route.query.scope,client_info:this.$route.query.client_info,state:this.$route.query.state}),this.auth=JSON.parse(sessionStorage.auth)},requestToken(){this.axios("/requestToken",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({client_id:"09076cd0-82f3-4c5b-a982-862c4c655cca",client_secret:"43c3d1e6-c3dc-428c-8722-b6b388e20a35",scope:"oob",grant_type:"client_credentials"})}).then((e=>{if(console.log(result),e.ok)return e.json();throw new Error("Network response was not ok.")})).then((e=>{console.log(e),this.token=JSON.stringify(e)})).catch((e=>{console.log(`error: ${e}`)}))},saveToken(){sessionStorage.token=JSON.stringify({access_token:this.token.access_token,expires_in:this.token.expires_in,refresh_token:this.token.refresh_token,scope:this.token.scope,token_type:this.token.token_type,user_seq_no:this.token.user_seq_no})}},computed:{}}),i=r,a=s(1001),c=(0,a.Z)(i,n,o,!1,null,"1f5b986e",null),u=c.exports}}]);
//# sourceMappingURL=3520.d8fc2141.js.map