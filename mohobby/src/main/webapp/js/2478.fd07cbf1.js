"use strict";(self["webpackChunkmohobby"]=self["webpackChunkmohobby"]||[]).push([[2478],{18268:function(t,e,i){i.d(e,{Z:function(){return p}});var s=i(64562),o=i(44363),a=i(4324),l=i(13687),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e(o.h7,[e(l.Z),0===t.moim&&1===t.moimRight||1===t.moim&&1===t.moimRight?e(o.h7,[e(s.Z,{staticClass:"mr-3",on:{click:function(e){return t.write(t.moimId)}}},[e(a.Z,[t._v("mdi-lead-pencil")])],1)],1):t._e(),0===t.moim&&0===t.moimRight||1===t.moim&&0===t.moimRight?e(o.h7,[e(s.Z,{staticClass:"mr-3",attrs:{disabled:""}},[e(a.Z,[t._v("mdi-lead-pencil")])],1)],1):t._e()],1)],1)},r=[],c=(i(57658),i(47790)),d={components:{MoimSidebar:c.Z},data(){return{moimId:this.$route.params.moimId,moim:1,moimRight:1}},setup(){},created(){},mounted(){},unmounted(){},methods:{write:function(t){console.log(t),this.$router.push({name:"moimboardwrite",query:{moimId:t}})}}},h=d,m=i(1001),u=(0,m.Z)(h,n,r,!1,null,"11bf290d",null),p=u.exports},56894:function(t,e,i){i.r(e),i.d(e,{default:function(){return k}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("BoardButton"),e("MoimBoardEditor")],1)},o=[],a=i(47790),l=i(64562),n=i(44127),r=i(60266),c=i(78419),d=i(56379),h=i(17808),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"flex"},[e(n.Z,{staticClass:"ma-2 mt-4",attrs:{"text-color":"white",color:"black",label:""}},[t._v("목록")]),e(d.Z,{attrs:{row:""},model:{value:t.boardType,callback:function(e){t.boardType=e},expression:"boardType"}},[e(c.Z,{staticClass:"ml-7",attrs:{label:"메인글",value:"1"}}),t.memberId==t.adminId?e(c.Z,{attrs:{label:"공지",value:"0"}}):t._e()],1)],1),e("div",{staticClass:"flex"},[e(n.Z,{staticClass:"ma-2 mt-4",attrs:{"text-color":"white",color:"black",label:""}},[t._v("제목")]),e(r.Z,{attrs:{cols:"12",sm:"6",md:"11"}},[e(h.Z,{staticClass:"ml-4",attrs:{label:"제목을 입력해주세요!",solo:"",dense:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),e("div",{staticClass:"example"},[e("quill-editor",{staticClass:"editor",style:t.editorStyle,model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),e("div",{staticClass:"center"},[e(l.Z,[t._v("취소")]),e(l.Z,{staticClass:"ml-5",attrs:{color:"success"},on:{click:function(e){return t.testEditor()}}},[t._v("작성완료")])],1)])},u=[],p=(i(57658),{name:"MoimBoardEditor",components:{},data(){return{editorStyle:{height:"300px"},content:"",boardType:null,title:"",moimId:this.$route.query.moimId,boardId:"",memberId:this.$store.state.id,adminId:""}},methods:{getContent(t){this.content=t},async clickSave(t){document.querySelector(".ql-editor").style.display="none";let e=0,i=document.querySelector(".ql-editor").querySelectorAll("img").length;if(0!=i)for(let s=0;s<i;s++){let i=document.querySelector(".ql-editor").getElementsByTagName("img")[s].src;e=await this.uploadImage(t,s,i,e)}this.saveEditor(t)},testEditor(){this.axios.post("/insertBoard",{title:this.title,boardType:this.boardType,memberId:this.$store.state.id,moimId:this.moimId}).then((t=>{console.log(t),console.log(t.data),this.boardId=t.data,this.clickSave(this.boardId)}))},saveEditor(t){this.axios({method:"POST",url:"/saveMoimInfo",headers:{"Content-Type":"application/json; charset=utf-8"},timeout:5e3,data:JSON.stringify({content:this.content,filename:t})}).then((t=>{200==t.status&&(this.content="",document.querySelector(".ql-editor").style.display="block"),this.$router.push({name:"moimBoard"})})).catch((t=>{console.log(`error: ${t}`)}))},async uploadImage(t,e,i,s){await this.axios.post("/uploadMoimImage",{foldername:t,filename:t+"-"+e,src:i})},getmoimadmin(){this.axios.get("/moimadmin",{params:{moimId:this.moimId}}).then((t=>{console.log(t),this.adminId=t.data[0].memberId})).catch((t=>{console.log(t)}))}},computed:{},mounted(){this.getmoimadmin()}}),v=p,b=i(1001),g=(0,b.Z)(v,m,u,!1,null,"6db801af",null),f=g.exports,C=i(18268),y={components:{MoimSidebar:a.Z,MoimBoardEditor:f,BoardButton:C.Z}},Z=y,I=(0,b.Z)(Z,s,o,!1,null,"7621ab12",null),k=I.exports},44127:function(t,e,i){i.d(e,{Z:function(){return u}});i(57658);var s=i(67678),o=i(77394),a=i(42240),l=i(16878),n=i(13037),r=i(96669),c=i(91444),d=i(58860),h=i(74338),m=i(74101),u=(0,s.Z)(l.Z,h.Z,d.Z,r.Z,(0,n.d)("chipGroup"),(0,c.d)("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...d.Z.options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(d.Z.options.computed.isClickable.call(this)||this.chipGroup)}},created(){const t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach((([t,e])=>{this.$attrs.hasOwnProperty(t)&&(0,m.fK)(t,e,this)}))},methods:{click(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter(){const t=[];return this.isActive&&t.push(this.$createElement(a.Z,{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(o.Zq,t)},genClose(){return this.$createElement(a.Z,{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:t=>{t.stopPropagation(),t.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(t){const e=[this.genContent()];let{tag:i,data:s}=this.generateRouteLink();s.attrs={...s.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:s.attrs.tabindex},s.directives.push({name:"show",value:this.active}),s=this.setBackgroundColor(this.color,s);const o=this.textColor||this.outlined&&this.color;return t(i,this.setTextColor(o,s),e)}})}}]);
//# sourceMappingURL=2478.fd07cbf1.js.map