"use strict";(self["webpackChunkmohobby"]=self["webpackChunkmohobby"]||[]).push([[8932],{47507:function(t,e,s){s.d(e,{Z:function(){return I}});var n=s(43423),i=s(99223),o=s(4324),r=s(65495),a=s(65808),l=s(54525),c=s(79500),m=s(74611),d=s(99709),u=(s(57658),function(){var t=this,e=t._self._c;return e(d.Z,{attrs:{app:""}},[e("div",{staticClass:"text-center pa-10"},[e(n.Z,{staticClass:"mb-4",attrs:{color:"grey darken-1",size:"64"}},[e(r.Z,{attrs:{"aspect-ratio":"30",src:s(6935)(`./${t.profileImg}`)}})],1),e("h4",{staticStyle:{color:"#2b2b2b","font-weight":"bolder"}},[t._v(t._s(t.memberId))])],1),e(i.Z),e(a.Z,t._l(t.links,(function(s){return e(l.Z,{key:s.text,attrs:{link:""},on:{click:function(e){return t.$router.push({path:s.route})}}},[e(m.Z,[e(o.Z,[t._v(t._s(s.icon))])],1),e(c.km,[e(c.V9,[t._v(t._s(s.text))])],1)],1)})),1)],1)}),h=[],p={data(){return{memberId:this.$store.state.id,profileImg:this.$store.state.user.profileImg,links:[{icon:"mdi-account",text:"내피드",route:"snsUserFeed?userId="+this.$store.state.id},{icon:"mdi-equal-box",text:"내피드관리",route:"snsUserFeed?userId="+this.$store.state.id},{icon:"mdi-face-man",text:"팔로우관리",route:"/snsFollowingMgmnt"},{icon:"mdi-label-multiple",text:"저장된 게시글",route:"/snsBookmark"}]}},beforeCreate(){},created(){this.setMemberInfo()},methods:{setMemberInfo(){if(this.memberId=this.$store.state.id,""==this.memberId)return this.memberId="비회원",void(this.profileImg="comfuck.jpg");"admin"==this.memberId?this.profileImg="logo-color.png":""!=this.memberId&&"admin"!=this.memberId&&this.getMemberInfo()},getMemberInfo(){const t=this;this.axios({url:"member/"+this.memberId,method:"get"}).then((function(e){""!=e.data&&(console.log(e.data),t.memberId=e.data.memberId,t.profileImg=e.data.profileImg)})).catch((function(t){console.log(t)}))}}},g=p,b=s(1001),C=(0,b.Z)(g,u,h,!1,null,"27d575c8",null),I=C.exports},46626:function(t,e,s){s.d(e,{Z:function(){return b}});var n=s(43423),i=s(64562),o=s(44363),r=s(60266),a=s(65495),l=s(13687),c=s(17808),m=(s(57658),function(){var t=this,e=t._self._c;return e("div",[e("div",[e(o.h7,[t.memberId?e(r.Z,{attrs:{cols:"10"}},[e(c.Z,{staticClass:"m1-11",attrs:{placeholder:"댓글을 입력해주세요!",counter:"",filled:"",rounded:"",solo:"",dense:"","hide-details":"",name:"content"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.regCmt()}},model:{value:t.inputCmt,callback:function(e){t.inputCmt=e},expression:"inputCmt"}})],1):e(r.Z,{attrs:{cols:"10"}},[e(c.Z,{staticClass:"m1-11",attrs:{placeholder:"댓글은 로그인부터 부탁드립니다🙏",disabled:"",counter:"",filled:"",rounded:"",solo:"",dense:"","hide-details":""}})],1),e(l.Z),e("div",{staticStyle:{"margin-right":"80px"}},[e(i.Z,{staticClass:"ma-2 white--text",attrs:{color:"#2ac187",dense:"",rounded:""},on:{click:function(e){return t.regCmt()}}},[t._v("등록")])],1)],1)],1),e("div",t._l(t.comments,(function(m,d){return e("div",{key:m.commId,staticClass:"profile"},[e("div",{directives:[{name:"show",rawName:"v-show",value:""!=m.parentCommId,expression:"cmt.parentCommId != ''"}],staticStyle:{width:"35px"}}),e(n.Z,{staticClass:"ml-10 my-5 mr-4",attrs:{color:"grey darken-1",size:"30"}},[e(a.Z,{staticStyle:{cursor:"pointer"},attrs:{"aspect-ratio":"30",alt:"profile_img",src:s(6935)(`./${m.profileImg}`)},on:{click:function(e){t.$router.push({path:"/snsUserFeed?userId="+m.memberId}).catch((()=>{t.$router.go(0)}))}}})],1),e("input",{staticClass:"cmtId",attrs:{type:"hidden",value:"cmt.commId"}}),e("div",{staticClass:"text-overline"},[e("span",{staticClass:"user",on:{click:function(e){t.$router.push({path:"/snsUserFeed?userId="+m.memberId}).catch((()=>{t.$router.go(0)}))}}},[t._v(" "+t._s(m.memberId)+" ")]),e("small",{staticClass:"date"},[e("span",{staticStyle:{"font-size":"1em"}},[t._v(" "+t._s(t.writeDate(m.writeDate))+" ")])]),e("div",{staticClass:"btn"},[1==t.btnStatus[d].replyBtn?e(i.Z,{staticClass:"mr-3",attrs:{"x-small":"",outlined:"",color:"dark-grey"},on:{click:function(e){return t.showRegReCmt(m.commId,m.memberId,d)}}},[t._v("답장 ")]):t._e(),m.memberId==t.memberId&&1==t.btnStatus[d].saveBtn?e(i.Z,{staticClass:"mr-3",attrs:{"x-small":"",outlined:"",color:"success"},on:{click:function(e){return t.editCmt(m.commId,d)}}},[t._v("저장")]):t._e(),m.memberId==t.memberId&&1==t.btnStatus[d].editBtn?e(i.Z,{staticClass:"mr-3",attrs:{"x-small":"",outlined:"",color:"success"},on:{click:function(e){return t.showEditForm(m.commId,d)}}},[t._v("수정")]):t._e(),m.memberId==t.memberId&&1==t.btnStatus[d].deleteBtn?e(i.Z,{attrs:{"x-small":"",outlined:"",color:"error"},on:{click:function(e){return t.deleteCmt(m.commId,m.targetId,d)}}},[t._v(" 삭제")]):t._e(),1==t.btnStatus[d].cancelBtn?e(i.Z,{staticClass:"mr-3",attrs:{"x-small":"",outlined:"",color:"success"},on:{click:function(e){return t.cancleEdit(d)}}},[t._v("취소")]):t._e()],1),e(o.h7,[e("div",{staticClass:"content"},[""!=m.parentCommId?e("div",[e("span",{staticClass:"member_id",on:{click:function(e){t.$router.push({path:"/snsUserFeed?userId="+m.parentMemberId}).catch((()=>{t.$router.go(0)}))}}},[e("strong",[t._v("@"+t._s(m.parentMemberId))])]),e("input",{staticClass:"cmt",attrs:{id:t.temp+d,type:"text",readonly:""},domProps:{value:m.content}}),e("input",{staticClass:"reCmt",attrs:{id:d,type:"text"},domProps:{value:m.content},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editCmt(m.commId,d)}}})]):e("div",[e("input",{staticClass:"cmt",attrs:{id:t.temp+d,type:"text",readonly:""},domProps:{value:m.content}}),e("input",{staticClass:"reCmt",attrs:{id:d,type:"text"},domProps:{value:m.content},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editCmt(m.commId,d)}}})])])]),1==t.btnStatus[d].replyForm?e("div",[e(o.h7,[e(r.Z,{attrs:{cols:"10"}},[e(c.Z,{staticClass:"m1-11",attrs:{filled:"",rounded:"",solo:"",dense:"","hide-details":"",prefix:t.cmtMemberId,name:"content"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.regReCmt(m.commId,m.memberId)}},model:{value:t.inputReCmt,callback:function(e){t.inputReCmt=e},expression:"inputReCmt"}})],1),e(l.Z),e("div",{staticStyle:{"margin-right":"80px"}},[e(i.Z,{staticClass:"ma-2 white--text",attrs:{color:"#2ac187",rounded:""},on:{click:function(e){return t.regReCmt(m.commId,m.memberId)}}},[t._v("등록 ")])],1)],1)],1):t._e()],1)],1)})),0)])}),d=[],u={name:"Cmt",props:{postid:String,targetId:String},data(){return{temp:"temp",cmtCount:"",inputCmt:"",inputReCmt:"",editedContent:"",originContent:"",memberId:this.$store.state.id,comments:[],editCmtId:"",reCmt:"",cmtMemberId:"",originContentFrm:!1,editForm:!1,btnStatus:[]}},created(){this.getCmtList(),this.editBtn=!0,this.deleteBtn=!0,this.replyBtn=!0},methods:{confirmMember(t){return t?(console.log("true"),!0):(console.log("false"),!1)},loginConfirm(){this.$swal({title:"로그인하셔야 가능하세요🙏",text:"🙏로그인화면으로 이동부탁드립니다🙏",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2ac187",cancelButtonColor:"#d33",cancelButtonText:"취소",confirmButtonText:"이동"}).then((t=>{t.isConfirmed&&this.$router.push({path:"login"})}))},writeDate(t){return this.$moment(t).fromNow()},getCmtList(){let t=this;this.axios("/sns/cmt/"+this.postid).then((e=>{this.comments=e.data,this.cmtCount=e.data.length,t.btnStatus=[];for(let s=0;s<e.data.length;s++)t.btnStatus.push({replyForm:!1,replyBtn:!0,saveBtn:!1,editBtn:!0,deleteBtn:!0,cancelBtn:!1});this.$emit("cmtCount",this.cmtCount)})).catch((t=>{console.log(t)}))},regCmt(){0==this.confirmMember(this.memberId)?this.loginConfirm():""==this.inputCmt?this.$swal("내용 입력하셔야 등록 가능하세요🙏"):this.axios.post("/sns/cmt",{memberId:this.memberId,targetId:this.postid,content:this.inputCmt}).then((t=>{console.log("댓글등록 성공! "+t),this.inputCmt="",this.getCmtList();const e={myId:this.$store.state.id,targetId:this.targetId,contentType:1,postId:this.postid,noticeType:0};this.stompClient.send("/app/Notice",JSON.stringify(e),(t=>{console.log(t)}))})).catch((t=>{console.log(t)}))},deleteCmt(t,e){this.axios.delete("/sns/cmt/"+t+"/"+e).then((t=>{console.log("댓글 삭제 성공! "+t),this.inputCmt="",this.getCmtList()})).catch((t=>{alert(t)}))},showEditForm(t,e){document.getElementById(this.temp+e).style.display="none",document.getElementById(e).style.display="block",this.btnStatus[e].cancelBtn=!0,this.btnStatus[e].replyBtn=!1,this.btnStatus[e].editBtn=!1,this.btnStatus[e].deleteBtn=!1,this.btnStatus[e].saveBtn=!0,this.btnStatus[e].editForm=!0},editCmt(t,e){console.log(document.getElementById(e).value),document.getElementById(this.temp+e).value=document.getElementById(e).value,console.log(document.getElementById(this.temp+e).value),console.log(document.getElementById(e).value),this.axios.put("/sns/cmt/"+t,{content:document.getElementById(e).value}).then((t=>{console.log("댓글수정 성공! "+t),document.getElementById(this.temp+e).style.display="block",document.getElementById(e).style.display="none",this.btnStatus[e].cancelBtn=!1,this.btnStatus[e].replyBtn=!0,this.btnStatus[e].editBtn=!0,this.btnStatus[e].deleteBtn=!0,this.btnStatus[e].saveBtn=!1,this.getCmtList()})).catch((t=>{alert("댓글수정 실패: "+t)}))},showRegReCmt(t,e,s){0==this.confirmMember(this.memberId)?this.loginConfirm():(console.log(this.btnStatus),this.btnStatus[s].replyForm=!0,this.btnStatus[s].replyBtn=!1,this.btnStatus[s].editBtn=!1,this.btnStatus[s].deleteBtn=!1,this.btnStatus[s].cancelBtn=!0,this.inputReCmt="",this.cmtMemberId="@"+e)},cancleEdit(t){document.getElementById(this.temp+t).style.display="block",document.getElementById(t).style.display="none",this.btnStatus[t].replyForm=!1,this.btnStatus[t].replyBtn=!0,this.btnStatus[t].editBtn=!0,this.btnStatus[t].deleteBtn=!0,this.btnStatus[t].saveBtn=!1,this.btnStatus[t].cancelBtn=!1},regReCmt(t,e,s){if(0==this.confirmMember(this.memberId))this.loginConfirm();else if(""==this.inputReCmt)this.$swal("내용 입력하셔야 등록 가능하세요🙏");else{let s=this;this.axios.post("/sns/recmt",{postId:this.postid,memberId:this.memberId,parentCommId:t,targetId:this.postid,content:this.inputReCmt,parentMemberId:e}).then((t=>{console.log("대댓글등록 성공! "+t),this.inputReCmt="",this.reCmt=!this.reCmt,this.getCmtList();const n={myId:this.$store.state.id,targetId:e,contentType:2,postId:s.postid,noticeType:0};console.log(n),this.stompClient.send("/app/Notice",JSON.stringify(n),(t=>{console.log(t)}))})).catch((t=>{console.log(t)}))}}}},h=u,p=s(1001),g=(0,p.Z)(h,m,d,!1,null,"30d1dec6",null),b=g.exports},4245:function(){},34145:function(t,e,s){s(4245);var n=s(83434),i=s(88126),o=s(58860),r=s(67678);e["Z"]=(0,r.Z)(i.Z,o.Z,n.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...o.Z.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...n.Z.options.computed.classes.call(this)}},styles(){const t={...n.Z.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=i.Z.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:s}=this.generateRouteLink();return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})},44363:function(t,e,s){s.d(e,{EB:function(){return l},Qq:function(){return r},ZB:function(){return a},h7:function(){return o}});var n=s(34145),i=s(75352);const o=(0,i.Ji)("v-card__actions"),r=(0,i.Ji)("v-card__subtitle"),a=(0,i.Ji)("v-card__text"),l=(0,i.Ji)("v-card__title");n.Z}}]);
//# sourceMappingURL=8932.0d304c03.js.map