"use strict";(self["webpackChunkmohobby"]=self["webpackChunkmohobby"]||[]).push([[6189],{83106:function(t,e,s){s.d(e,{Z:function(){return v}});var a=s(43423),n=s(99223),l=s(4324),i=s(65495),o=s(65808),r=s(54525),c=s(79500),u=s(74611),d=s(99709),m=(s(57658),function(){var t=this,e=t._self._c;return e(d.Z,{attrs:{app:""}},[e("div",{staticClass:"text-center pa-10"},[e(a.Z,{staticClass:"mb-4",attrs:{color:"grey darken-1",size:"64"}},[e(i.Z,{attrs:{"aspect-ratio":"30",src:s(6935)(`./${t.profileImg}`)}})],1),e("h4",{staticStyle:{color:"#2b2b2b","font-weight":"bolder"}},[t._v(t._s(t.memberId))])],1),e(n.Z),e(o.Z,t._l(t.links,(function(s){return e(r.Z,{key:s.text,attrs:{link:""},on:{click:function(e){return t.$router.push({path:s.route})}}},[e(u.Z,[e(l.Z,[t._v(t._s(s.icon))])],1),e(c.km,[e(c.V9,[t._v(t._s(s.text))])],1)],1)})),1)],1)}),f=[],h={data(){return{memberId:"admin",profileImg:"female.png",links:[{icon:"mdi-microsoft-windows",text:"sns관리",route:"/adminsns"},{icon:"mdi-account",text:"강의 관리",route:"/adminclass"},{icon:"mdi-clipboard-list-outline",text:"소모임 관리",route:"/adminmoim"},{icon:"mdi-clipboard-list",text:"챌린지 관리",route:"/adminchallenge"},{icon:"mdi-alert-octagon",text:"유저 관리",route:"/adminuser"}]}},created(){this.setMemberInfo()},methods:{setMemberInfo(){if(this.memberId=this.$store.state.id,!this.memberId)return this.memberId="비회원",void(this.profileImg="comfuck.jpg");"admin"==this.memberId?this.profileImg="logo-color.png":""!=this.memberId&&"admin"!=this.memberId&&this.getMemberInfo()},getMemberInfo(){const t=this;this.axios({url:"/member/"+this.memberId,method:"get"}).then((function(e){""!=e.data&&(console.log(e.data),t.memberId=e.data.memberId,t.profileImg=e.data.profileImg)})).catch((function(t){console.log(t)}))}}},p=h,g=s(1001),b=(0,g.Z)(p,m,f,!1,null,"ec002648",null),v=b.exports},97650:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var a=s(60266),n=s(43863),l=s(4324),i=s(11713),o=s(36878),r=(s(57658),function(){var t=this,e=t._self._c;return e("main",[e("AdminSidebar"),e("h3",[t._v("Q&A게시판 질문 내역")]),e(a.Z,{staticClass:"d-flex",attrs:{cols:"6",sm:"3"}},[e(o.Z,{attrs:{items:t.classList,label:"클래스 이름","item-text":"className","item-value":"classId",outlined:""},on:{change:function(e){return t.getQnAList()}},model:{value:t.selectedClassId,callback:function(e){t.selectedClassId=e},expression:"selectedClassId"}})],1),[e(n.Z,{staticClass:"elevation-1",attrs:{headers:t.QnAHeaders,items:t.QnAList,"sort-by":"calories","items-per-page":5},scopedSlots:t._u([{key:"item.actions",fn:function({item:s}){return[e(l.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.answerQnA(s)}}},[t._v(" mdi-pencil ")])]}},{key:"no-data",fn:function(){return[e("p",[t._v("해당하는 내용이 없습니다.")])]},proxy:!0},{key:"item.showDetail",fn:function({item:s}){return[0==s.classType?e(l.Z,{on:{click:function(e){return t.$router.push("/class/on/"+s.classId+"/qna")}}},[t._v(" mdi-arrow-right-bold-box ")]):t._e(),1==s.classType?e(l.Z,{on:{click:function(e){return t.$router.push("/class/off/"+s.classId+"/qna")}}},[t._v(" mdi-arrow-right-bold-box ")]):t._e()]}}])},[t._v(" small ")])],e("h3",[t._v("강의 목록")]),e(i.Z,[e(a.Z,{attrs:{lg:"12"}},[e(n.Z,{staticClass:"elevation-1",attrs:{headers:t.classHeaders,items:t.classList,"items-per-page":5},scopedSlots:t._u([{key:"item.actions",fn:function({item:s}){return[e(l.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.updateConfirm(s)}}},[t._v(" mdi-pencil ")])]}},{key:"item.manage",fn:function({item:s}){return["승인"===s.auditStatus?e(l.Z,{on:{click:function(e){return t.$router.push({name:"classPrepare",params:{classId:s.classId}})}}},[t._v(" mdi-arrow-right-bold-box ")]):t._e()]}},{key:"no-data",fn:function(){return[e("p",[t._v("해당하는 내용이 없습니다.")])]},proxy:!0},{key:"item.showDetail",fn:function({item:s}){return[e(l.Z,{on:{click:function(e){return t.goToClassInput(s)}}},[t._v(" mdi-arrow-right-bold-box ")])]}}])},[t._v(" > ")])],1)],1)],2)}),c=[],u=s(83106),d={name:"",components:{AdminSidebar:u.Z},data(){return{QnAHeaders:[{text:"강의번호",align:"classId",sortable:!1,value:"classId"},{text:"게시글 번호",value:"boardId"},{text:"강의명",value:"className"},{text:"질문작성자",value:"memberId"},{text:"질문내용",value:"title"},{text:"답변내용",value:"content"},{text:"답변여부",value:"replyCheck"},{text:"수정하기",value:"actions",sortable:!1},{text:"상세보기",value:"showDetail",sortable:!1}],tags:["전체","심사대기","심사중","승인","미승인"],classHeaders:[{text:"강의번호",align:"start",sortable:!1,value:"classId"},{text:"카테고리",value:"categoryName"},{text:"신청자",value:"memberId"},{text:"강의명",value:"className"},{text:"관리자승인여부",value:"auditStatus"},{text:"반려이유",value:"auditReturn"},{text:"수정하기",value:"actions",sortable:!1},{text:"상세보기",value:"showDetail",sortable:!1},{text:"관리하기",value:"manage",sortable:!1}],classList:[],beforeComfirmList:[],comfirmingList:[],approveList:[],notApproveList:[],QnAList:[],selectedClassId:"",selectedQnABoard:{},selectedClass:""}},beforeCreate(){},created(){this.getAllClass(),this.getQnAAllList()},beforeMount(){},mounted(){},beforeUpdate(){},updated(){},beforeUnmount(){},unmounted(){},methods:{getAllClass(){const t=this;this.axios({url:"/adminClassList",method:"get"}).then((function(e){console.log(e.data),t.classList=e.data;for(let s=0;s<e.data.length;s++)console.log("response.data[i].auditStatus"+e.data[s].auditStatus),0===e.data[s].auditStatus?(t.classList[s].auditStatus="심사대기",t.beforeComfirmList.push(t.classList[s])):1===e.data[s].auditStatus?(t.classList[s].auditStatus="심사중",t.comfirmingList.push(t.classList[s])):2===e.data[s].auditStatus?(t.classList[s].auditStatus="승인",t.approveList.push(t.classList[s])):3===e.data[s].auditStatus&&(t.classList[s].auditStatus="미승인",t.notApproveList.push(t.classList[s]));console.log(t.classList)})).catch((function(t){console.log(t)}))},getQnAAllList(){const t=this;this.axios({url:"/QnAAllList/",method:"get"}).then((function(e){console.log(e.data),t.QnAList=e.data;for(let s=0;s<e.data.length;s++)console.log("response.data[i].replyCheck"+e.data[s].replyCheck),0===e.data[s].replyCheck?t.QnAList[s].replyCheck="미처리":1===e.data[s].replyCheck&&(t.QnAList[s].replyCheck="처리");console.log(t.classList)})).catch((function(t){console.log(t)}))},getQnAList(){const t=this;this.axios({url:"/QnAList/"+this.selectedClassId,method:"get"}).then((function(e){console.log(e.data),t.QnAList=e.data;for(let s=0;s<e.data.length;s++)console.log("response.data[i].replyCheck"+e.data[s].replyCheck),0===e.data[s].replyCheck?t.QnAList[s].replyCheck="미처리":1===e.data[s].replyCheck&&(t.QnAList[s].replyCheck="처리");console.log(t.classList)})).catch((function(t){console.log(t)}))},answerQnA(t){this.selectedQnABoard=Object.assign({},t);const e=this;this.$swal.fire({title:"답변을 입력하세요",html:'<input type="text" id="content" class="swal2-input" placeholder="답변">',confirmButtonText:"답변하기",cancelButtonText:"취소하기",focusConfirm:!1,preConfirm:()=>{const t=this.$swal.getPopup().querySelector("#content").value;return t||this.$swal.showValidationMessage("답변이 등록되지 않았습니다."),{content:t}}}).then((s=>{s.value.content;e.axios({url:"/QnAUpdate",method:"put",data:{content:s.value.content,boardId:t.boardId}}).then((function(t){console.log(t),e.$swal.fire("답변이 등록되었습니다."),e.getAllClass()})).catch((function(t){console.log(t)}))}))},updateConfirm(t){this.selectedClass=Object.assign({},t);const e=this;(async()=>{const{value:t}=await this.$swal.fire({title:"Select field validation",input:"select",inputOptions:{0:"심사대기",1:"심사중",2:"승인",3:"미승인"},inputPlaceholder:"관리자 승인 여부를 선택하세요",showCancelButton:!0,confirmButtonText:"제출하기",cancelButtonText:"취소하기",inputValidator:t=>new Promise((s=>{3==t?this.$swal.fire({title:"미승인 이유를 입력하세요",html:'<input type="text" id="auditReturn" class="swal2-input" placeholder="미승인 이유를 입력하세요">',confirmButtonText:"제출하기",cancelButtonText:"취소하기",focusConfirm:!1,preConfirm:()=>{const t=this.$swal.getPopup().querySelector("#auditReturn").value;return t||this.$swal.showValidationMessage("미승인 이유가 입력되지 않았습니다."),{auditReturn:t}}}).then((s=>{this.axios({url:"/adminAuditClass",method:"put",data:{auditStatus:t,auditReturn:s.value.auditReturn,classId:this.selectedClass.classId}}).then((function(t){e.$swal.fire("승인 여부 수정이 완료되었습니다."),e.getAllClass()})).catch((function(t){console.log(t)}))})):this.axios({url:"/adminAuditClass",method:"put",data:{auditStatus:t,classId:this.selectedClass.classId}}).then((function(t){e.$swal.fire("승인 여부 수정이 완료되었습니다."),e.getAllClass()})).catch((function(t){console.log(t)}))}))});fruit&&this.$swal.fire("You selected: "+fruit)})()},goToClassInput(t){}}},m=d,f=s(1001),h=(0,f.Z)(m,r,c,!1,null,null,null),p=h.exports},11713:function(t,e,s){s(57658),s(1884);var a=s(20144),n=s(51767),l=s(75352);const i=["sm","md","lg","xl"],o=["start","end","center"];function r(t,e){return i.reduce(((s,a)=>(s[t+(0,l.jC)(a)]=e(),s)),{})}const c=t=>[...o,"baseline","stretch"].includes(t),u=r("align",(()=>({type:String,default:null,validator:c}))),d=t=>[...o,"space-between","space-around"].includes(t),m=r("justify",(()=>({type:String,default:null,validator:d}))),f=t=>[...o,"space-between","space-around","stretch"].includes(t),h=r("alignContent",(()=>({type:String,default:null,validator:f}))),p={align:Object.keys(u),justify:Object.keys(m),alignContent:Object.keys(h)},g={align:"align",justify:"justify",alignContent:"align-content"};function b(t,e,s){let a=g[t];if(null!=s){if(e){const s=e.replace(t,"");a+=`-${s}`}return a+=`-${s}`,a.toLowerCase()}}const v=new Map;e["Z"]=a["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...m,alignContent:{type:String,default:null,validator:f},...h},render(t,{props:e,data:s,children:a}){let l="";for(const n in e)l+=String(e[n]);let i=v.get(l);if(!i){let t;for(t in i=[],p)p[t].forEach((s=>{const a=e[s],n=b(t,s,a);n&&i.push(n)}));i.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),v.set(l,i)}return t(e.tag,(0,n.ZP)(s,{staticClass:"row",class:i}),a)}})}}]);
//# sourceMappingURL=6189.357c0b33.js.map